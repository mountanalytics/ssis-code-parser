NAME_NODE,LABEL_NODE,FILTER,FUNCTION,JOIN_ARG,COLOR,ID
staging.FTP_Unpivot,staging.FTP_Unpivot,,DataSources,,#42d6a4,0
query_Package\FTP_unvipot_1,query_Package\FTP_unvipot_1,"[""WHERE (Level_4 equals 'Fixed Rate Mortgages'"", ""and Forward_Starting equals 'FS'"", ""and Funding_space_Component is one of 'Basefundinginterest', 'Principal', 'Total Value'"", ""and NOT market_shock is one of 'Book Value', 'Face Amount', 'Net WAC', 'WAL_0')"", ""or (instrument_set equals 'Mortgage Proposal'"", ""and Funding_space_Component is one of 'Basefundinginterest', 'Principal', 'Total Value'"", ""and NOT market_shock is one of 'Book Value', 'Face Amount', 'Net WAC', 'WAL_0')"", ""and (Portfolio ends with 'OBV'"", ""or Portfolio ends with 'ABB')""]",query,[],#db59a5,1
staging.FTP_Unpivot,staging.FTP_Unpivot,,DataSources,,#42d6a4,2
query_Package\FTP_unvipot_2,query_Package\FTP_unvipot_2,"[""WHERE (Level_4 equals 'Fixed Rate Mortgages'"", ""and instrumnet_set is one of 'mortgage', 'offset mortgage'"", ""and external_counterparty_segment equals 'households'"", ""and (market_shock ends with 'SOT'"", ""or market_shock ends with 'EVEatR'))"", ""or (Level_4 equals 'Fixed Rate Mortgage Savings'"", ""and instrument_set equals 'mortgage savings'"", ""and (market_shock ends with 'SOT'"", ""or market_shock ends with 'EVEatR'))"", ""and (Portfolio ends with 'OBV'"", ""or Portfolio ends with 'ABB')""]",query,[],#db59a5,3
dbo.REP_Discount_Factors,dbo.REP_Discount_Factors,,DataSources,,#d0d3d3,4
query_Package\Delete_discount_factors_2,query_Package\Delete_discount_factors_2,DELETE WHERE Market equals '12/31/2021',query,,#db59a5,5
dbo.REP_Master_GAP,dbo.REP_Master_GAP,,DataSources,,#d0d3d3,6
query_Package\del_master_gap_2,query_Package\del_master_gap_2,DELETE WHERE Entity equals CASE WHEN 'TRG' equals 'BWF' THEN 'BPD' ELSE 'TRG' END and Source equals 'QRM' and Market_as_of_date equals '3/31/2016',query,,#db59a5,7
User::Port_current,User::Port_current,,variable,,#D0D708,8
User::Market_date,User::Market_date,,variable,,#D0D708,9
User::Matchgap,User::Matchgap,,variable,,#D0D708,10
User::Comp_Name,User::Comp_Name,,variable,,#D0D708,11
subquery_1,Package\select_res@subquery_1,QRM.Run_Time_Description.CompanyName = @@User_doublecolumns_Comp_Name AND QRM.Run_Time_Description.Portfolio = @@User_doublecolumns_Port_current,subquery,[],#db59a5,12
QRM.Run_Time_Description,QRM.Run_Time_Description,,DataSources,,#42d6a4,13
query_User::Run_time_descip,query_User::Run_time_descip,1 = 1 AND QRM.Run_Time_Description.Portfolio = @@User_doublecolumns_Port_current AND CAST(QRM.Run_Time_Description.Date,query,[],#db59a5,14
User::Run_time_descip,User::Run_time_descip,,variable,,#D0D708,15
QRM.Run_Time_Description,QRM.Run_Time_Description,,DataSources,,#42d6a4,16
5/31/2024,5/31/2024,,variable,,#D0D708,17
OBV,OBV,,variable,,#D0D708,18
0,0,,variable,,#D0D708,19
@DataSetEmpty,@DataSetEmpty,"IF NOT EXISTS (
	SELECT 1
	FROM exp.MDSStoBETValuationResult
	WHERE Entity = @Entity
	and CONVERT(date, PortfolioAsOfDate) = CONVERT(date, @PortfolioCurrent)
)
SET @DataSetEmpty = 1",query,,#db59a5,20
subquery_3,Package\RecordCount@subquery_3,,subquery,[],#d0d3d3,21
staging.FTP_Unpivot,staging.FTP_Unpivot,,DataSources,,#42d6a4,22
subquery_2,Package\RecordCount@subquery_2,,subquery,[],#d0d3d3,23
staging.FTP_Shocks,staging.FTP_Shocks,,DataSources,,#42d6a4,24
subquery_1,Package\RecordCount@subquery_1,,subquery,[],#d0d3d3,25
staging.FTP_Base,staging.FTP_Base,,DataSources,,#42d6a4,26
query_User::RecordCount,query_User::RecordCount,,query,"['JOIN (subquery_2) AS FSH ON 1 = 1', 'JOIN (subquery_3) AS FUP ON 1 = 1']",#9D94FF,27
User::RecordCount,User::RecordCount,,variable,,#D0D708,28
(subquery_1),Package\RecordCount@(subquery_1),,subquery,"['JOIN (subquery_2) AS FSH ON 1 = 1', 'JOIN (subquery_3) AS FUP ON 1 = 1']",#d0d3d3,29
(subquery_2),Package\RecordCount@(subquery_2),,subquery,"['JOIN (subquery_2) AS FSH ON 1 = 1', 'JOIN (subquery_3) AS FUP ON 1 = 1']",#d0d3d3,30
(subquery_3),Package\RecordCount@(subquery_3),,subquery,"['JOIN (subquery_2) AS FSH ON 1 = 1', 'JOIN (subquery_3) AS FUP ON 1 = 1']",#d0d3d3,31
User::Product,User::Product,,variable,,#D0D708,32
User::Period,User::Period,,variable,,#D0D708,33
User::FileID,User::FileID,,variable,,#D0D708,34
query_User::New_table_long,query_User::New_table_long,dbo.tbl_Product_parameter.Action_Take = 'Portdate' AND dbo.tbl_Product_parameter.Action_Take = 'ReportingDatabase' AND dbo.tbl_Product_parameter.Action_Take = 'ReportingServer' AND dbo.tbl_Product.Product_id = @@User_doublecolumns_Product AND dbo.tbl_Product.Period = @@User_doublecolumns_Period AND dbo.tbl_Product_file.File_id = @@User_doublecolumns_FileID,query,"['INNER JOIN dbo.tbl_Product_file AS PF ON dbo.tbl_Product.Product_id = dbo.tbl_Product_file.Product_id AND dbo.tbl_Product.Period = dbo.tbl_Product_file.Period', 'LEFT JOIN dbo.tbl_File_State AS FS ON dbo.tbl_Product_file.Product_id = dbo.tbl_File_State.Product_id AND dbo.tbl_Product_file.Period = dbo.tbl_File_State.Period AND dbo.tbl_Product_file.File_id = dbo.tbl_File_State.File_id', 'INNER JOIN dbo.tbl_Product_parameter AS PP1 ON dbo.tbl_Product_file.Product_id = dbo.tbl_Product_parameter.Product_id AND dbo.tbl_Product_file.Period = dbo.tbl_Product_parameter.Period', ""INNER JOIN dbo.tbl_Product_parameter AS PP2 ON dbo.tbl_Product_parameter.Product_id = 'GEN' AND dbo.tbl_Product_file.Period = dbo.tbl_Product_parameter.Period"", ""INNER JOIN dbo.tbl_Product_parameter AS PP3 ON dbo.tbl_Product_parameter.Product_id = 'GEN' AND dbo.tbl_Product_file.Period = dbo.tbl_Product_parameter.Period AND dbo.tbl_Product_file.Period = dbo.tbl_Product_parameter.Period""]",#db59a5,35
User::New_table_long,User::New_table_long,,variable,,#D0D708,36
dbo.tbl_Product,dbo.tbl_Product,,DataSources,,#42d6a4,37
dbo.tbl_Product_file,dbo.tbl_Product_file,,DataSources,,#42d6a4,38
dbo.tbl_File_State,dbo.tbl_File_State,,DataSources,,#42d6a4,39
dbo.tbl_Product_parameter,dbo.tbl_Product_parameter,,DataSources,,#42d6a4,40
dbo.tbl_Product_parameter,dbo.tbl_Product_parameter,,DataSources,,#42d6a4,41
dbo.tbl_Product_parameter,dbo.tbl_Product_parameter,,DataSources,,#42d6a4,42
subquery_5,Package\rec_count@subquery_5,,subquery,[],#d0d3d3,43
staging.GAP,staging.GAP,,DataSources,,#42d6a4,44
subquery_4,Package\rec_count@subquery_4,,subquery,[],#d0d3d3,45
staging.Forecast_Periods,staging.Forecast_Periods,,DataSources,,#42d6a4,46
subquery_3,Package\rec_count@subquery_3,,subquery,[],#d0d3d3,47
staging.Account_Dimension,staging.Account_Dimension,,DataSources,,#42d6a4,48
subquery_2,Package\rec_count@subquery_2,,subquery,[],#d0d3d3,49
staging.Run_Time_Description,staging.Run_Time_Description,,DataSources,,#42d6a4,50
subquery_1,Package\rec_count@subquery_1,,subquery,[],#d0d3d3,51
staging.PlanningDimentsions,staging.PlanningDimentsions,,DataSources,,#42d6a4,52
query_User::Rec_cnt,query_User::Rec_cnt,,query,"['JOIN (subquery_2) AS RTD ON 1 = 1', 'JOIN (subquery_3) AS ACD ON 1 = 1', 'JOIN (subquery_4) AS FOP ON 1 = 1', 'JOIN (subquery_5) AS GAP ON 1 = 1']",#9D94FF,53
User::Rec_cnt,User::Rec_cnt,,variable,,#D0D708,54
(subquery_1),Package\rec_count@(subquery_1),,subquery,"['JOIN (subquery_2) AS RTD ON 1 = 1', 'JOIN (subquery_3) AS ACD ON 1 = 1', 'JOIN (subquery_4) AS FOP ON 1 = 1', 'JOIN (subquery_5) AS GAP ON 1 = 1']",#d0d3d3,55
(subquery_2),Package\rec_count@(subquery_2),,subquery,"['JOIN (subquery_2) AS RTD ON 1 = 1', 'JOIN (subquery_3) AS ACD ON 1 = 1', 'JOIN (subquery_4) AS FOP ON 1 = 1', 'JOIN (subquery_5) AS GAP ON 1 = 1']",#d0d3d3,56
(subquery_3),Package\rec_count@(subquery_3),,subquery,"['JOIN (subquery_2) AS RTD ON 1 = 1', 'JOIN (subquery_3) AS ACD ON 1 = 1', 'JOIN (subquery_4) AS FOP ON 1 = 1', 'JOIN (subquery_5) AS GAP ON 1 = 1']",#d0d3d3,57
(subquery_4),Package\rec_count@(subquery_4),,subquery,"['JOIN (subquery_2) AS RTD ON 1 = 1', 'JOIN (subquery_3) AS ACD ON 1 = 1', 'JOIN (subquery_4) AS FOP ON 1 = 1', 'JOIN (subquery_5) AS GAP ON 1 = 1']",#d0d3d3,58
(subquery_5),Package\rec_count@(subquery_5),,subquery,"['JOIN (subquery_2) AS RTD ON 1 = 1', 'JOIN (subquery_3) AS ACD ON 1 = 1', 'JOIN (subquery_4) AS FOP ON 1 = 1', 'JOIN (subquery_5) AS GAP ON 1 = 1']",#d0d3d3,59
cfg.LKP_Counterparty,cfg.LKP_Counterparty,,DataSources,,#42d6a4,60
.staging.GAP,.staging.GAP,,DataSources,,#42d6a4,61
.staging.GAP,.staging.GAP,,DataSources,,#42d6a4,62
staging.GAP,staging.GAP,,DataSources,,#42d6a4,63
query_Package\Update_GAP_1,query_Package\Update_GAP_1,,query,"['LEFT JOIN cfg.LKP_Counterparty AS cp ON cp.Intercompany_Legal_Entity = staging.GAP.Intercompany_Legal_Entity', 'AND cp.Intercompany_Counterparty = staging.GAP.Intercompany_Counterparty']",#9D94FF,64
staging.GAP_DCF_Intermediate,staging.GAP_DCF_Intermediate,,DataSources,,#42d6a4,65
query_Package\GAP_DCF_1,query_Package\GAP_DCF_1,"[""WHERE ((Level_04 equals 'Fixed Rate Mortgages'"", ""and Forward_Starting equals 'FS'"", ""and Funding_Component_Mapping_ID is one of 'Base funding interest', 'Principal', 'Total Value')"", ""or (instrument_set equals 'Mortgage Proposal'"", ""and Funding_Component_Mapping_ID is one of 'Base funding interest', 'Principal', 'Total Value'))"", ""and (Entity is one of 'OBV', 'ABB')""]",query,[],#db59a5,66
User::Product,User::Product,,variable,,#D0D708,67
User::Period,User::Period,,variable,,#D0D708,68
User::FileID,User::FileID,,variable,,#D0D708,69
query_User::Table_joins,query_User::Table_joins,dbo.tbl_Product_parameter.Action_Take = 'Portdate' AND dbo.tbl_Product.Product_id = @@User_doublecolumns_Product AND dbo.tbl_Product.Period = @@User_doublecolumns_Period AND dbo.tbl_Product_file.File_id = @@User_doublecolumns_FileID AND dbo.tbl_Product_parameter.Action_Take = 'ReportingDatabase' AND dbo.tbl_Product_parameter.Action_Take = 'ReportingServer',query,"['INNER JOIN dbo.tbl_Product_file AS PF ON dbo.tbl_Product.Product_id = dbo.tbl_Product_file.Product_id AND dbo.tbl_Product.Period = dbo.tbl_Product_file.Period', 'LEFT JOIN dbo.tbl_File_State AS FS ON dbo.tbl_Product_file.Product_id = dbo.tbl_File_State.Product_id AND dbo.tbl_Product_file.Period = dbo.tbl_File_State.Period AND dbo.tbl_Product_file.File_id = dbo.tbl_File_State.File_id', 'INNER JOIN dbo.tbl_Product_parameter AS PP1 ON dbo.tbl_Product_file.Product_id = dbo.tbl_Product_parameter.Product_id AND dbo.tbl_Product_file.Period = dbo.tbl_Product_parameter.Period', ""INNER JOIN dbo.tbl_Product_parameter AS PP2 ON dbo.tbl_Product_parameter.Product_id = 'GEN' AND dbo.tbl_Product_file.Period = dbo.tbl_Product_parameter.Period"", ""INNER JOIN dbo.tbl_Product_parameter AS PP3 ON dbo.tbl_Product_parameter.Product_id = 'GEN' AND dbo.tbl_Product_file.Period = dbo.tbl_Product_parameter.Period""]",#db59a5,70
User::Table_joins,User::Table_joins,,variable,,#D0D708,71
dbo.tbl_Product,dbo.tbl_Product,,DataSources,,#42d6a4,72
dbo.tbl_Product_file,dbo.tbl_Product_file,,DataSources,,#42d6a4,73
dbo.tbl_File_State,dbo.tbl_File_State,,DataSources,,#42d6a4,74
dbo.tbl_Product_parameter,dbo.tbl_Product_parameter,,DataSources,,#42d6a4,75
dbo.tbl_Product_parameter,dbo.tbl_Product_parameter,,DataSources,,#42d6a4,76
dbo.tbl_Product_parameter,dbo.tbl_Product_parameter,,DataSources,,#42d6a4,77
